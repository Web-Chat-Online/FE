{"ast":null,"code":"var _jsxFileName = \"E:\\\\chat-app\\\\public\\\\src\\\\pages\\\\Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { allUsersRoute } from \"../utils/APIRoutes\";\nimport Contacts from \"../components/Contacts\";\nimport Welcome from \"../components/Welcome\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  const navigate = useNavigate();\n  const [contacts, setContacts] = useState([]);\n  const [currentUser, setCurrentUser] = useState(undefined);\n  const [currentChat, setCurrentChat] = useState(undefined);\n\n  const GetCurrentUser = async () => {\n    if (!localStorage.getItem(\"chat-app-user\")) {\n      navigate(\"/login\");\n    } else {\n      setCurrentUser(await JSON.parse(localStorage.getItem(\"chat-app-user\")));\n    }\n  };\n\n  useEffect(() => {\n    GetCurrentUser();\n  }, []);\n\n  const LoadingData = async () => {\n    if (currentUser) {\n      if (currentUser.isAvatarImageSet) {\n        const data = await axios.get(`${allUsersRoute}/${currentUser._id}`);\n        setContacts(data.data);\n      } else {\n        navigate(\"/setAvatar\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    LoadingData();\n  }, [currentUser]);\n\n  const handleChatChange = chat => {\n    setCurrentChat(chat);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Contacts, {\n          contacts: contacts,\n          currentUser: currentUser,\n          changeChat: handleChatChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), currentChat === undefined ? /*#__PURE__*/_jsxDEV(Welcome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(ChatContainer, {\n          currentChat: currentChat,\n          socket: socket\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Chat, \"p5eYDDBjQHyVpuBaUvChvjAo0SA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Chat;\nconst Container = styled.div`\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    gap: 1rem;\n    align-items: center;\n    background-color: #131324;\n    .container {\n        height: 85vh;\n        width: 85vw;\n        background-color: #00000076;\n        display: grid;\n        grid-template-columns: 25% 75%;\n        @media screen and (min-width: 720px) and (max-width: 1080px) {\n            grid-template-columns: 35% 65%;\n        }\n    }\n`;\n_c2 = Container;\nexport default Chat;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Chat\");\n$RefreshReg$(_c2, \"Container\");","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useNavigate","allUsersRoute","Contacts","Welcome","Chat","navigate","contacts","setContacts","currentUser","setCurrentUser","undefined","currentChat","setCurrentChat","GetCurrentUser","localStorage","getItem","JSON","parse","LoadingData","isAvatarImageSet","data","get","_id","handleChatChange","chat","socket","Container","div"],"sources":["E:/chat-app/public/src/pages/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { allUsersRoute } from \"../utils/APIRoutes\";\r\nimport Contacts from \"../components/Contacts\";\r\nimport Welcome from \"../components/Welcome\";\r\nfunction Chat() {\r\n    const navigate = useNavigate();\r\n    const [contacts, setContacts] = useState([]);\r\n    const [currentUser, setCurrentUser] = useState(undefined);\r\n    const [currentChat, setCurrentChat] = useState(undefined);\r\n    const GetCurrentUser = async () => {\r\n        if (!localStorage.getItem(\"chat-app-user\")) {\r\n            navigate(\"/login\");\r\n        } else {\r\n            setCurrentUser(\r\n                await JSON.parse(localStorage.getItem(\"chat-app-user\"))\r\n            );\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        GetCurrentUser();\r\n    }, []);\r\n    const LoadingData = async () => {\r\n        if (currentUser) {\r\n            if (currentUser.isAvatarImageSet) {\r\n                const data = await axios.get(\r\n                    `${allUsersRoute}/${currentUser._id}`\r\n                );\r\n                setContacts(data.data);\r\n            } else {\r\n                navigate(\"/setAvatar\");\r\n            }\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        LoadingData();\r\n    }, [currentUser]);\r\n    const handleChatChange = (chat) => {\r\n        setCurrentChat(chat);\r\n    };\r\n    return (\r\n        <>\r\n            <Container>\r\n                <div className=\"container\">\r\n                    <Contacts\r\n                        contacts={contacts}\r\n                        currentUser={currentUser}\r\n                        changeChat={handleChatChange}\r\n                    />\r\n                    {currentChat === undefined ? (\r\n                        <Welcome />\r\n                    ) : (\r\n                        <ChatContainer\r\n                            currentChat={currentChat}\r\n                            socket={socket}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nconst Container = styled.div`\r\n    height: 100vh;\r\n    width: 100vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    gap: 1rem;\r\n    align-items: center;\r\n    background-color: #131324;\r\n    .container {\r\n        height: 85vh;\r\n        width: 85vw;\r\n        background-color: #00000076;\r\n        display: grid;\r\n        grid-template-columns: 25% 75%;\r\n        @media screen and (min-width: 720px) and (max-width: 1080px) {\r\n            grid-template-columns: 35% 65%;\r\n        }\r\n    }\r\n`;\r\nexport default Chat;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,OAAP,MAAoB,uBAApB;;;;AACA,SAASC,IAAT,GAAgB;EAAA;;EACZ,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EACA,MAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAACc,SAAD,CAA9C;EACA,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAACc,SAAD,CAA9C;;EACA,MAAMG,cAAc,GAAG,YAAY;IAC/B,IAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAL,EAA4C;MACxCV,QAAQ,CAAC,QAAD,CAAR;IACH,CAFD,MAEO;MACHI,cAAc,CACV,MAAMO,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAX,CADI,CAAd;IAGH;EACJ,CARD;;EASAlB,SAAS,CAAC,MAAM;IACZgB,cAAc;EACjB,CAFQ,EAEN,EAFM,CAAT;;EAGA,MAAMK,WAAW,GAAG,YAAY;IAC5B,IAAIV,WAAJ,EAAiB;MACb,IAAIA,WAAW,CAACW,gBAAhB,EAAkC;QAC9B,MAAMC,IAAI,GAAG,MAAMrB,KAAK,CAACsB,GAAN,CACd,GAAEpB,aAAc,IAAGO,WAAW,CAACc,GAAI,EADrB,CAAnB;QAGAf,WAAW,CAACa,IAAI,CAACA,IAAN,CAAX;MACH,CALD,MAKO;QACHf,QAAQ,CAAC,YAAD,CAAR;MACH;IACJ;EACJ,CAXD;;EAYAR,SAAS,CAAC,MAAM;IACZqB,WAAW;EACd,CAFQ,EAEN,CAACV,WAAD,CAFM,CAAT;;EAGA,MAAMe,gBAAgB,GAAIC,IAAD,IAAU;IAC/BZ,cAAc,CAACY,IAAD,CAAd;EACH,CAFD;;EAGA,oBACI;IAAA,uBACI,QAAC,SAAD;MAAA,uBACI;QAAK,SAAS,EAAC,WAAf;QAAA,wBACI,QAAC,QAAD;UACI,QAAQ,EAAElB,QADd;UAEI,WAAW,EAAEE,WAFjB;UAGI,UAAU,EAAEe;QAHhB;UAAA;UAAA;UAAA;QAAA,QADJ,EAMKZ,WAAW,KAAKD,SAAhB,gBACG,QAAC,OAAD;UAAA;UAAA;UAAA;QAAA,QADH,gBAGG,QAAC,aAAD;UACI,WAAW,EAAEC,WADjB;UAEI,MAAM,EAAEc;QAFZ;UAAA;UAAA;UAAA;QAAA,QATR;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADJ,iBADJ;AAqBH;;GAxDQrB,I;UACYJ,W;;;KADZI,I;AA0DT,MAAMsB,SAAS,GAAG5B,MAAM,CAAC6B,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnBA;MAAMD,S;AAoBN,eAAetB,IAAf"},"metadata":{},"sourceType":"module"}